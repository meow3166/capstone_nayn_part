{% include "include/header.html" %}

<main class="admin-container">
  {% if mode == 'create' %}
  <h1 class="admin-title">새 공지 등록</h1>
  {% else %}
  <h1 class="admin-title">공지 수정</h1>
  {% endif %}

  {% if mode == 'create' %}
  <form method="post" action="/admin/announcements/new" class="admin-form-vertical">
    {% else %}
    <form method="post" action="/admin/announcements/{{ item.notice_id }}/update" class="admin-form-vertical">
      {% endif %}

      <label>제목</label>
      <input type="text" name="title" value="{{ item.title | default('') }}" required>

      <label>카테고리</label>
      <input type="text" name="category" value="{{ item.category | default('일반') }}">

      <label>상태</label>
      <div class="radio-group">
        <label><input type="radio" name="status" value="PUBLISHED" {% if item.status=='PUBLISHED' %}checked{% endif %}>
          PUBLISHED</label>
        <label><input type="radio" name="status" value="DRAFT" {% if item.status=='DRAFT' %}checked{% endif %}>
          DRAFT</label>
      </div>

      <label class="checkbox-inline">
        <input type="checkbox" name="is_pinned" value="1" {% if item.is_pinned %}checked{% endif %}> 상단 고정
      </label>

      <label>게시 시각 (비우면 자동)</label>
      <input type="datetime-local" name="publish_at"
        value="{% if item.publish_at %}{{ item.publish_at | date('YYYY-MM-DDTHH:mm') }}{% endif %}">

      <label>내용</label>
      <textarea name="content_md" rows="12">{{ item.content_md | default('') }}</textarea>

      <div class="form-actions">
        <button type="submit" class="btn btn-primary">저장</button>
        <a href="/admin/announcements" class="btn">목록</a>
      </div>
    </form>

</main>